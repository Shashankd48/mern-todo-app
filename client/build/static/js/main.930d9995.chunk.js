(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/passoword.09a28467.png"},16:function(e,t,a){e.exports=a.p+"static/media/email.9a870dcb.png"},20:function(e,t,a){e.exports=a.p+"static/media/LogoBg.9f8498f5.svg"},23:function(e,t,a){e.exports=a.p+"static/media/logo.a4ae6d41.svg"},24:function(e,t,a){e.exports=a.p+"static/media/user-name.e0f47a82.png"},25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(19),o=a.n(l),r=a(6),s=(a(30),a(31),Object(n.createContext)()),i=a(11),m=a(2);function u(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Page Not Found"))}var d=a(8);function p(e){var t=e.text,a=e.markascompled,n=void 0===a||a,l=e.deleteTodo,o=e.checkTodo;return c.a.createElement("div",{className:"todoCard"},c.a.createElement("div",{className:"d-flex"},!0===n?c.a.createElement("button",{className:"todoBtn markCompletedBtn",onClick:o},c.a.createElement("span",null,c.a.createElement(d.b,null))):c.a.createElement("button",{className:"todoBtn markBtn"},c.a.createElement("span",null,c.a.createElement(d.c,null))),c.a.createElement("p",null,t)),c.a.createElement("div",{className:"d-flex "},c.a.createElement("button",{className:"todoBtn deleteBtn",onClick:l},c.a.createElement("span",null,c.a.createElement(d.c,null)))))}var f=a(22),E=a(20),h=a.n(E);function g(e){var t=e.profileName;return c.a.createElement("div",{className:"navBar"},c.a.createElement("div",{className:"content  col-sm-12 col-md-8 col-lg-7 m-0 p-0 m-auto"},c.a.createElement("img",{src:h.a,alt:"Logo",width:"150px"}),c.a.createElement("p",{className:"welcome"},"Hi ",c.a.createElement("span",null,t)," !")))}var v="http://localhost:5000/todo/api/auth",b="http://localhost:5000/todo/api/profile";function x(){var e,t=Object(n.useContext)(s),a=Object(n.useState)(""),l=Object(r.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(!1),d=Object(r.a)(u,2),E=d[0],h=d[1],v=Object(n.useState)([]),x=Object(r.a)(v,2),j=x[0],N=x[1],w=function(e,t){(function(e,t){return fetch("".concat(b,"/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){console.log(e),N(e)})).catch((function(e){return console.log(e)}))};if(Object(n.useEffect)((function(){if(localStorage.getItem("jwt")){var e,a=JSON.parse(localStorage.getItem("jwt"));t.setUser({id:a.id,name:a.name,token:a.token}),i(null===(e=t.user)||void 0===e?void 0:e.name),w(a.id,a.token),console.log(j)}}),[]),!(null===(e=t.user)||void 0===e?void 0:e.id))return c.a.createElement(m.a,{to:"/"});var S=function(){h(!E),console.log(E)};return c.a.createElement("div",null,c.a.createElement(g,{profileName:o}),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"content col-sm-12 col-md-8 col-lg-7 m-auto"},c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"All Tasks for today"," ",c.a.createElement("span",null,c.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"smile",className:"svg-inline--fa fa-smile fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},c.a.createElement("path",{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"})))),c.a.createElement("p",null,E),c.a.createElement("button",{onClick:function(){t.setUser(null),localStorage.removeItem("jwt")}},"Logout")),c.a.createElement("div",{className:"floatingBtn"},c.a.createElement("button",{className:"addTodo"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"todoSection px-4"},j.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(p,{text:e.todo,markascompled:e.markascompleted,checkTodo:S}))})),c.a.createElement(p,{text:"lroem sdnj asjnd asnd ansdkj asjkdnas kansdka ansdn",markascompled:!0,checkTodo:S})))))}var j=a(23),N=a.n(j);function w(){return c.a.createElement("div",{className:"col-sm-6 leftSection"},c.a.createElement("img",{src:N.a,alt:"",className:"img-fluid"}))}function S(e){var t=e.icon,a=e.labelText,n=e.type,l=e.width,o=e.height,r=e.value,s=e.onChange;return c.a.createElement("div",{className:""},c.a.createElement("div",{className:"inputbox"},c.a.createElement("input",{type:n,name:n,className:"authInput",value:r,onChange:s,required:!0}),c.a.createElement("div",{className:"label"},c.a.createElement("img",{src:t,alt:"",width:l,height:o}),c.a.createElement("label",{htmlFor:n},a))))}var O=a(15),k=a.n(O),C=a(16),y=a.n(C),T=a(24),B=a.n(T);function I(){var e=Object(n.useContext)(s),t=Object(n.useState)(!0),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),m=Object(r.a)(i,2),u=m[0],p=m[1],f=Object(n.useState)(""),E=Object(r.a)(f,2),h=E[0],g=E[1],b=Object(n.useState)(""),x=Object(r.a)(b,2),j=x[0],N=x[1],w=Object(n.useState)(""),O=Object(r.a)(w,2),C=O[0],T=O[1],I=function(){return c.a.createElement("div",{className:"errorMessage"},C)},L=function(){o(!l),T("")},U=function(){var t;(t={email:h,password:j},fetch("".concat(v,"/login"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(t){t.error?T(t.error):(e.setUser({id:t.id,name:t.name,token:t.token}),console.log(e.user),localStorage.setItem("jwt",JSON.stringify(t)))})).catch((function(e){return console.log("Login Failed"+e)}))},J=function(e){e.preventDefault(),U()},z=function(e){var t;e.preventDefault(),(t={name:u,email:h,password:j},fetch("".concat(v,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?T(e.error):U()})).catch((function(e){return console.log("Login Failed"+e)}))};return c.a.createElement("div",{className:"col-sm-6 rightSection"},!0===l?c.a.createElement("form",{onSubmit:z},c.a.createElement("h3",{className:"text-center"},"Sign Up"),c.a.createElement(S,{icon:B.a,labelText:"Name",type:"text",width:"20px",height:"15px",value:u,onChange:function(e){return p(e.target.value)}}),c.a.createElement(S,{icon:y.a,labelText:"Email",type:"email",width:"18px",height:"14px",value:h,onChange:function(e){return g(e.target.value)}}),c.a.createElement(S,{icon:k.a,labelText:"Password",type:"password",width:"16px",height:"18px",value:j,onChange:function(e){return N(e.target.value)}}),""!==C?I():"",c.a.createElement("button",{type:"submit",className:"authBtn mb-3"},"Sign Up ",c.a.createElement(d.a,null)),c.a.createElement("div",{className:"text-center"},c.a.createElement("span",null,"Already have an account go to."," ",c.a.createElement("span",{className:"formSwitch",onClick:L},"Login")))):c.a.createElement("form",{onSubmit:J},c.a.createElement("h3",{className:"text-center"},"Login"),c.a.createElement(S,{icon:y.a,labelText:"Email",type:"email",width:"18px",height:"14px",value:h,onChange:function(e){return g(e.target.value)}}),c.a.createElement(S,{icon:k.a,labelText:"Password",type:"password",width:"16px",height:"18px",value:j,onChange:function(e){return N(e.target.value)}}),""!==C?I():"",c.a.createElement("button",{type:"submit",className:"authBtn mb-3"},"Login ",c.a.createElement(d.a,null)),c.a.createElement("div",{className:"text-center"},c.a.createElement("span",null,"Create a new account here..."," ",c.a.createElement("span",{className:"formSwitch",onClick:L},"Sign Up")))))}function L(){var e,t=Object(n.useContext)(s);return Object(n.useEffect)((function(){if(localStorage.getItem("jwt")){var e=JSON.parse(localStorage.getItem("jwt"));t.setUser({id:e.id,name:e.name})}}),[]),(null===(e=t.user)||void 0===e?void 0:e.id)?c.a.createElement(m.a,{to:"/home"}):c.a.createElement("div",{className:"row m-0"},c.a.createElement(w,null),c.a.createElement(I,null))}function U(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],l=t[1];return c.a.createElement(i.a,null,c.a.createElement(s.Provider,{value:{user:a,setUser:l}},c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/",component:L}),c.a.createElement(m.b,{exact:!0,path:"/home",component:x}),c.a.createElement(m.b,{path:"*",component:u}))))}o.a.render(c.a.createElement(U,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.930d9995.chunk.js.map